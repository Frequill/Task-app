plugins {
  id 'java-library'
  id 'com.github.node-gradle.node' version '7.1.0'
}

// Configure Node.js and npm
node {
  version = '18.14.0'
  npmVersion = '9.5.0'
  download = true
}

tasks.register('buildFrontend', Exec) {
  commandLine 'npm.cmd', 'run', 'build'
  dependsOn 'compileJava'
  dependsOn 'npmInstall'
}

jar {
  dependsOn buildFrontend
}