plugins {
  id 'java-library'
  id 'com.moowork.node' version '1.3.1'
}

// Configure Node.js and npm
node {
  version = '18.14.0'
  npmVersion = '9.5.0'
  download = true
}

tasks.register('buildFrontend', Exec) {
  commandLine 'npm.cmd', 'run', 'build'
  dependsOn 'compileJava'
}

jar {
  dependsOn buildFrontend
}